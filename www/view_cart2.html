<!DOCTYPE html>
<html >
<head>
   <meta charset="UTF-8">
   <meta name="google" value="notranslate">
   <title>CodePen - A Pen by  sid</title>
   <script src="js/modernizr.js" type="text/javascript"></script>
   <script>
   window.console = window.console || function(t) {};
   </script>
   <script src="js/prefixfree.min.js"></script>
   <script src="js/cart.js"></script>
   <link href="css/cart.css" rel="stylesheet">
   <link href="css/bootstrap.min.css" rel="stylesheet">
   <link href="css/font-awesome.min.css" rel="stylesheet">
   <link href="css/animate.min.css" rel="stylesheet">
   <link href="css/lightbox.css" rel="stylesheet">
  <link href="css/main.css" rel="stylesheet">
  <link href="css/responsive.css" rel="stylesheet">
  <link href="css/cart.css" rel="stylesheet">
</head>

<body>

   <ul class='item-list'>
      <li class='item'>
         <div class='item__information'>
            <div class='item__image'>
               <img src='http://upload.wikimedia.org/wikipedia/en/thumb/6/67/30_STM_-_Love_Lust_Faith_%2B_Dreams.jpeg/220px-30_STM_-_Love_Lust_Faith_%2B_Dreams.jpeg'>
            </div>
            <div class='item__body'>
               <h2 class='item__title'>Love, Lust, Faith and Dreams</h2>
               <p class='item__description'>Love, Lust, Faith and Dreams is the fourth studio album from American rock band Thirty Seconds to Mars.</p>
            </div>
            <div class='item__price js-item-price' data-price='11.99'>$1199</div>
         </div>
         <div class='item__interactions'>
            <p class='item__quantity'>
               <a class='js-item-increase' title='Add another copy'>+</a>
               <a class='js-item-decrease decrease--disabled' title='Remove a copy'>-</a>
               <span data-quantity='1'>
                  &nbsp;&nbsp;Quantity: <b>1</b>
               </span>
            </p>
            <a class='item__remove js-item-remove' title='Remove this item'>&times;</a>
         </div>
      </li>
      <li class='item'>
         <div class='item__information'>
            <div class='item__image'>
               <img src='http://upload.wikimedia.org/wikipedia/en/a/a7/Random_Access_Memories.jpg'>
            </div>
            <div class='item__body'>
               <h2 class='item__title'>Random Access Memories</h2>
               <p class='item__description'>Random Access Memories is the fourth studio album by French electronic music duo Daft Punk.</p>
            </div>
            <div class='item__price js-item-price' data-price='11.88'>$11.88</div>
         </div>
         <div class='item__interactions'>
            <p class='item__quantity'>
               <a class='js-item-increase' title='Add another copy'>+</a>
               <a class='js-item-decrease decrease--disabled' title='Remove a copy'>-</a>
               <span data-quantity='1'>
                  <b>1</b>
                  copy
               </span>
               at $11.88
            </p>
            <a class='item__remove js-item-remove' title='Remove this item'>&times;</a>
         </div>
      </li>
      <li class='item'>
         <div class='item__information'>
            <div class='item__image'>
               <img src='http://upload.wikimedia.org/wikipedia/en/a/a7/Random_Access_Memories.jpg'>
            </div>
            <div class='item__body'>
               <h2 class='item__title'>Random Access Memories</h2>
               <p class='item__description'>Random Access Memories is the fourth studio album by French electronic music duo Daft Punk.</p>
            </div>
            <div class='item__price js-item-price' data-price='11.88'>$11.88</div>
         </div>
         <div class='item__interactions'>
            <p class='item__quantity'>
               <a class='js-item-increase' title='Add another copy'>+</a>
               <a class='js-item-decrease decrease--disabled' title='Remove a copy'>-</a>
               <span data-quantity='1'>
                  <b>1</b>
                  copy
               </span>
               at $11.88
            </p>
            <a class='item__remove js-item-remove' title='Remove this item'>&times;</a>
         </div>
      </li>
      <li class='item'>
         <div class='item__information'>
            <div class='item__image'>
               <img src='http://upload.wikimedia.org/wikipedia/en/e/e4/The_Heist_Macklemore.jpeg'>
            </div>
            <div class='item__body'>
               <h2 class='item__title'>The Heist</h2>
               <p class='item__description'>The Heist is the debut studio album by American rapper Macklemore and producer Ryan Lewis.</p>
            </div>
            <div class='item__price js-item-price' data-price='8.99'>$8.99</div>
         </div>
         <div class='item__interactions'>
            <p class='item__quantity'>
               <a class='js-item-increase' title='Add another copy'>+</a>
               <a class='js-item-decrease decrease--disabled' title='Remove a copy'>-</a>
               <span data-quantity='1'>
                  <b>1</b>
                  copy
               </span>
               at $8.99
            </p>
            <a class='item__remove js-item-remove' title='Remove this item'>&times;</a>
         </div>
      </li>
   </ul>
   <div class='summary js-summary'>
      <ul class='steps'>
         <li>
            <b>Subtotal:</b>
            <span class='sum js-subtotal'>$32.86</span>
         </li>
         <li>
            <b>Taxes (5%):</b>
            <span class='sum js-taxes'>$1.64</span>
         </li>
         <li>
            <b>Shipping:</b>
            <span class='sum js-shipping'>$5.00</span>
         </li>
      </ul>
      <ul class='checkout'>
         <li>
            <b>Total:</b>
            <span class='sum js-total'>$39.50</span>
         </li>
         <li>
            <a class='button js-checkout-button'>Checkout</a>
         </li>
      </ul>
   </div>
   <script src="js/stopExecutionOnTimeout.js"></script>

   <script src='js/jquery.min.js'></script>

   <script>
   var subtotal = document.querySelector('.js-subtotal'), itemList = document.querySelector('.item-list'), priceFields = document.querySelectorAll('.item .js-item-price'), taxes = document.querySelector('.js-taxes'), shipping = document.querySelector('.js-shipping'), total = document.querySelector('.js-total'), checkoutButton = document.querySelector('.js-checkout-button'), initialList = itemList.innerHTML;
   function loop(which, callback) {
      var len = which.length;
      while (len--) {
         if (window.CP.shouldStopExecution(1)) {
            break;
         }
         callback(which[len], len);
      }
      window.CP.exitedLoop(1);
   }
   function handleCalculations() {
      var subTotalPrice = 0, taxesPrice = 0;
      loop(priceFields, function (price) {
         subTotalPrice += +price.textContent.substr(1);
      });
      subTotalPrice = subTotalPrice.toFixed(2);
      taxesPrice = (subTotalPrice * 0.05).toFixed(2);
      subtotal.textContent = '$' + subTotalPrice;
      taxes.textContent = '$' + taxesPrice;
      shipping.textContent = subTotalPrice !== '0.00' ? '$5.00' : 'Free';
      total.textContent = '$' + (+subTotalPrice + +taxesPrice + (+subTotalPrice > 0 ? 5 : 0)).toFixed(2);
   }
   function changeQuantity(emitter, action) {
      var action = emitter.classList.contains('js-item-increase') ? 'increase' : 'decrease', quantityField = emitter.parentElement.querySelector('span'), quantity = +quantityField.getAttribute('data-quantity'), price;
      if (action === 'increase') {
         emitter.nextElementSibling.classList.remove('decrease--disabled');
      } else if (action === 'decrease') {
         if (quantity === 2) {
            emitter.classList.add('decrease--disabled');
         } else if (quantity === 1) {
            return;
         }
      }
      quantityField.innerHTML = '<b>' + (action === 'increase' ? ++quantity : --quantity) + '</b> ' + (quantity > 1 ? 'copies' : 'copy');
      quantityField.setAttribute('data-quantity', quantity);
      price = emitter.parentElement.parentElement.parentElement.querySelector('.js-item-price');
      price.textContent = '$' + (quantity * price.getAttribute('data-price')).toFixed(2);
      handleCalculations();
   }
   function removeItem(emitter) {
      var item = emitter.parentElement.parentElement, len = priceFields.length, marginBottom = len > 1 ? parseInt(getComputedStyle(item).marginBottom, 10) : 0;
      item.classList.add('item--disappearing');
      item.style.marginTop = -(item.offsetHeight + marginBottom) + 'px';
      setTimeout(function () {
         itemList.removeChild(item);
         priceFields = document.querySelectorAll('.item .js-item-price');
         if (!priceFields.length) {
            itemList.innerHTML = '<li class="item empty-hint"><p>Bummer, you removed all items! Wanna <a class="js-restore-list">start over again</a>?</li>';
            itemList.firstElementChild.classList.add('is-visible');
         }
         handleCalculations();
      }, 500);
   }
   function restoreList() {
      itemList.firstElementChild.classList.remove('is-visible');
      setTimeout(function () {
         itemList.style.minHeight = itemList.offsetHeight + 'px';
         itemList.classList.add('appearing', 'delayed');
         itemList.innerHTML = initialList;
         itemList.style.maxHeight = itemList.offsetHeight + 'px';
         itemList.classList.remove('appearing');
         priceFields = document.querySelectorAll('.item .js-item-price');
         handleCalculations();
      }, 500);
      setTimeout(function () {
         itemList.style.minHeight = 0;
         itemList.style.maxHeight = 'none';
         itemList.classList.remove('delayed');
      }, 1500);
   }
   itemList.addEventListener('click', function (e) {
      var target = e.target, classList = target.classList;
      if (classList.contains('js-item-increase') || classList.contains('js-item-decrease')) {
         changeQuantity(target);
      } else if (classList.contains('js-item-remove')) {
         removeItem(target);
      } else if (classList.contains('js-restore-list')) {
         restoreList();
      }
   });
   checkoutButton.addEventListener('click', function () {
      modalWrapper.classList.add('is-visible');
   });
   modalWrapper.addEventListener('click', function () {
      modalWrapper.classList.remove('is-visible');
   });
   setTimeout(function () {
      modalWrapper.style.display = 'block';
   }, 250);
   //@ sourceURL=pen.js
   </script>


   <script>
   if (document.location.search.match(/type=embed/gi)) {
      window.parent.postMessage("resize", "*");
   }
   </script>


</body>
</html>
